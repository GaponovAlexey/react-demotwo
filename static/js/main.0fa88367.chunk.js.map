{"version":3,"sources":["components/Futer.jsx","components/Header.jsx","components/Alert.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Card.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Futer","className","Date","toLocaleDateString","href","rel","target","Header","id","Alert","name","closeAlert","useEffect","timerid","setTimeout","clearTimeout","BasketItem","minus","plus","price","quantity","removeFromBasket","onClick","style","fontSize","BasketList","order","handleBasketShow","totalPrice","reduce","sum","el","length","map","item","Card","GoodsItem","offerId","displayName","displayType","displayAssets","addToBasket","src","e","background","alt","regularPrice","GoodsList","goods","Preloader","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setIsBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","shop","itemIndex","findIndex","i","newItem","newOrder","orderItem","index","newQuantity","itemid","filter","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0fa88367.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Futer = () => {\r\n  return (\r\n    <div>\r\n      <footer className='page-footer grey lighten-1 '>\r\n        <div className='footer-copyright'>\r\n          <div className='container'>\r\n            © {new Date().toLocaleDateString()} Copyright\r\n            <a\r\n              className='grey-text text-lighten-4 right'\r\n              href='https://github.com/kekelberi/react-demotwo'\r\n              rel='noreferrer'\r\n              target='_blank'\r\n            >\r\n              rep\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <div>\r\n      <nav className='grey lighten-1' >\r\n        <div className='nav-wrapper grey lighten-1 '>\r\n          {/* <a href='#' className='brand-logo'>\r\n            Shop\r\n          </a> */}\r\n          <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n            <li>\r\n              <a href='sass.html'>Logo</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\n\r\nexport const Alert = ({ name, closeAlert }) => {\r\n\r\n\r\n  useEffect(() => {\r\n    const timerid = setTimeout(closeAlert, 3000)\r\n    return () => {\r\n      clearTimeout(timerid)\r\n    }\r\n\r\n    //eslint-disable-next-line\r\n  }, [name])\r\n\r\n  return (\r\n    <div id='toast-container'>\r\n      <div className='toast'>{name} добавлен в корзину</div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const BasketItem = ({\r\n  id,\r\n  minus,\r\n  plus,\r\n  name,\r\n  price,\r\n  quantity,\r\n  removeFromBasket,\r\n}) => {\r\n  return (\r\n    <li className='collection-item '>\r\n      {name}{' '}\r\n      <i\r\n        onClick={() => minus(id)}\r\n        style={{ fontSize: 12 }}\r\n        className='large material-icons basket-quantity'\r\n      >\r\n        remove\r\n      </i>\r\n      {quantity}\r\n      <i\r\n        onClick={() => plus(id)}\r\n        style={{ fontSize: 12 }}\r\n        className='large material-icons basket-quantity'\r\n      >\r\n        add\r\n      </i>\r\n      = {price * quantity} руб\r\n      <span href='#!' className='secondary-content'>\r\n        <i\r\n          className='material-icons basket-delet'\r\n          onClick={() => removeFromBasket(id)}\r\n        >\r\n          close\r\n        </i>\r\n      </span>\r\n    </li>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { BasketItem } from './BasketItem'\r\n\r\nexport const BasketList = ({ minus,plus, order, handleBasketShow, removeFromBasket }) => {\r\n  const totalPrice = order.reduce((sum, el) => {\r\n    return sum + el.price * el.quantity\r\n  }, 0)\r\n\r\n  return (\r\n    <div className='collection basket-list'>\r\n      <div className='collection-item active'>Корзина</div>\r\n      {order.length ? (\r\n        order.map((item) => {\r\n          return (\r\n            <BasketItem\r\n              key={item.id}\r\n              {...item}\r\n              minus={minus}\r\n              plus={plus}\r\n              removeFromBasket={removeFromBasket}\r\n            />\r\n          )\r\n        })\r\n      ) : (\r\n        <div className='collection-item'>Корзина пуста</div>\r\n      )}\r\n      <li className='collection-item active'>\r\n        Общая стоимость: {totalPrice} руб\r\n      </li>\r\n      <div className='collection-item active'>\r\n        <button className=' btn btn-small' >Оформить</button>\r\n      </div>\r\n      <i\r\n        className='material-icons basket-close'\r\n        onClick={() => handleBasketShow()}\r\n      >\r\n        close\r\n      </i>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Card = ({ quantity = 0, handleBasketShow }) => {\r\n  return (\r\n    <div className='cart blue darken-4 white-text' onClick={() => handleBasketShow()} >\r\n      <i className='material-icons'>shopping_cart</i>\r\n      {quantity ? <span className='cart-quantity'>\r\n        {quantity}</span> : ''  }\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const GoodsItem = ({\r\n  offerId,\r\n  displayName,\r\n  displayType,\r\n  price,\r\n  displayAssets,\r\n  addToBasket,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <div className='card' >\r\n        <div className='card-image'>\r\n          <img src={displayAssets.map(e => e.background)} alt={displayName} />\r\n          <span className='card-title'>{displayName}</span>\r\n        </div>\r\n        <div className='card-content'>\r\n          <p>{displayType}</p>\r\n        </div>\r\n        <div className='card-action'>\r\n          <button className='btn' onClick={() => addToBasket({\r\n            id: offerId,\r\n            name: displayName,\r\n            price: price.regularPrice, \r\n          })} >купить</button>\r\n          <span className='right'>{price.regularPrice}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { GoodsItem } from './GoodsItem'\r\n\r\nexport const GoodsList = ({ goods, addToBasket }) => {\r\n  if (!goods.length) {\r\n    return <h3>ничего нет</h3>\r\n  }\r\n\r\n  return (\r\n    <div className='goods'>\r\n      {goods.map((e) => (\r\n        <GoodsItem key={e.offerId} {...e} addToBasket={addToBasket} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Preloader = () => {\r\n  return (\r\n    <div>\r\n      <div className='progress'>\r\n        <div className='determinate'></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { API_KEY, API_URL } from '../config'\r\nimport { Alert } from './Alert'\r\nimport { BasketList } from './BasketList'\r\nimport { Card } from './Card'\r\nimport { GoodsList } from './GoodsList'\r\nimport { Preloader } from './Preloader'\r\n\r\nexport const Shop = () => {\r\n  const [goods, setGoods] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [order, setOrder] = useState([])\r\n  const [isBasketShow, setIsBasketShow] = useState(false)\r\n\r\n  const [alertName, setAlertName] = useState('')\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex((i) => i.id === item.id)\r\n\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      }\r\n      setOrder([...order, newItem])\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          }\r\n        } else {\r\n          return orderItem\r\n        }\r\n      })\r\n      setOrder(newOrder)\r\n    }\r\n    setAlertName(item.name)\r\n  }\r\n\r\n  const handleBasketShow = () => {\r\n    setIsBasketShow(!isBasketShow)\r\n  }\r\n\r\n  const removeFromBasket = (itemid) => {\r\n    const newOrder = order.filter((el) => el.id !== itemid)\r\n    setOrder(newOrder)\r\n  }\r\n\r\n  const decQuntity = (item) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === item) {\r\n        const newQuantity = el.quantity - 1\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity >= 0 ? newQuantity : 0,\r\n        }\r\n      } else {\r\n        return el\r\n      }\r\n    })\r\n    setOrder(newOrder)\r\n  }\r\n\r\n  const incQuntity = (item) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === item) {\r\n        const newQuantity = el.quantity + 1\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        }\r\n      } else {\r\n        return el\r\n      }\r\n    })\r\n    setOrder(newOrder)\r\n  }\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('')\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setGoods(data.shop)\r\n        setLoading(false)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <main className='container content'>\r\n      <Card quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <GoodsList goods={goods} addToBasket={addToBasket} />\r\n      )}\r\n      {isBasketShow && (\r\n        <BasketList\r\n          minus={decQuntity}\r\n          plus={incQuntity}\r\n          removeFromBasket={removeFromBasket}\r\n          handleBasketShow={handleBasketShow}\r\n          order={order}\r\n        />\r\n      )}\r\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n    </main>\r\n  )\r\n}\r\n","const API_KEY = process.env.REACT_APP_API_KEY\r\n// const API_KEY = `edac735c-869c9940-09c590dd-bc92783e`\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=en'\r\n\r\n\r\nexport {\r\n  API_KEY,\r\n  API_URL\r\n}","import { Futer } from \"./components/Futer\"\nimport { Header } from \"./components/Header\"\nimport { Shop } from \"./components/Shop\"\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Shop />\n      <Futer />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}